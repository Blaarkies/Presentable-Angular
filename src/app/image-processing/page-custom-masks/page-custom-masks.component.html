<div class="tri-container">

  <app-image-display #source
                     [sourceImage]="sourceImage"
                     [mask]="customMask"
                     (pixelClick)="setVisibility($event)"
                     (pixelHover)="setHoveredPixel($event)"
                     (mouseleave)="setHoveredPixel(null)"></app-image-display>

  <div>
    <app-algorithm-box [title]="'Apply custom filter on each pixel\'s value'"
                       [inputA]="inputA || '9 pixels\' values'"
                       [inputB]="inputB || 'Corresponding mask\'s values'"
                       [calculation]="calculationText || 'sum / count'"
                       [output]="output || 'Destination pixel\'s value'"
                       (complete)="completeDestinationImage()"></app-algorithm-box>
    <div class="overlap-container">
      <div class="overlap-a custom-mask-container">
        <app-spinner-value *ngFor="let pixel of customMask.pixels"
                           [pixel]="pixel"></app-spinner-value>
      </div>

      <div class="overlap-b vertical-container">
        <mat-slide-toggle color="primary"
                          ariaLabel="ariaLabel"
                          (change)="isAverage = $event.checked"
                          [checked]="isAverage"></mat-slide-toggle>
        <div class="slide-toggle-font">Average</div>
      </div>
    </div>
  </div>

  <app-image-display #result [sourceImage]="resultImage"></app-image-display>
</div>
