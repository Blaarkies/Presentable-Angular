<button mat-flat-button (click)="switchPage(false)">Back</button>
<button mat-flat-button (click)="switchPage(true)">Next</button>


<div *ngIf="currentPage === 1" [@visibilityChanged]>

  <h1 class="text-tile-center">Data vs Information</h1>
  <mat-grid-list [cols]="2">
    <mat-grid-tile>
      <app-entropy-card [data]="mediumEntropy" [charLimit]="charLimit"></app-entropy-card>
    </mat-grid-tile>

    <mat-grid-tile>
      <app-entropy-card [data]="lowEntropy" [charLimit]="charLimit"></app-entropy-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>

<div *ngIf="currentPage === 2" [@visibilityChanged]>

  <h1 class="text-tile-center">Patternless Data</h1>
  <mat-grid-list [cols]="2">
    <mat-grid-tile>
      <app-entropy-card [data]="highEntropy" [charLimit]="charLimit"></app-entropy-card>
    </mat-grid-tile>

    <mat-grid-tile>
      <mat-card>
        <mat-card-title>Characters Used</mat-card-title>
        <mat-card-content class="card-medium-font">
          <div *ngFor="let line of highEntropy.charsUsed" style="text-align: left">
            {{line}}
          </div>
        </mat-card-content>
        <mat-card-footer class="text-color-normal text-style-data">
          <div>Count: {{highEntropy.charsUsedLength}}</div>
          <div>Fraction of ASCII table in use: {{highEntropy.asciiFraction}}%</div>
        </mat-card-footer>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>

<div *ngIf="currentPage === 3" [@visibilityChanged]>

  <h1 class="text-tile-center">Run-length Encoding</h1>
  <mat-grid-list [cols]="2">

    <mat-grid-tile>
      <mat-card>
        <mat-card-title>Not Encoded</mat-card-title>
        <mat-card-content class="text-to-pixel">
          <div *ngFor="let line of runLengthImage.lines">
            <span class="font-pixel"
                  *ngFor="let flaggedChar of line;
                  let i = index"
                  [class.highlight-code-viewing]="flaggedChar.id === selectedRunLengthId">{{flaggedChar.text}}</span>
          </div>

        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <mat-grid-tile>
      <mat-card (mouseleave)="selectedRunLengthId = null">
        <mat-card-title>Encoded</mat-card-title>
        <mat-card-content class="text-to-pixel">
          <span class="font-pixel"
                *ngFor="let flaggedChar of runLengthImage.encoded;
                let i = index"
                (mouseenter)="selectedRunLengthId = flaggedChar.id"
                [class.highlight-code-viewing]="flaggedChar.id === selectedRunLengthId">{{flaggedChar.text}}<br
            *ngIf="(i+1)%9==0"></span>
        </mat-card-content>

        <mat-card-footer>
          <app-entropy-info
            [bytes]="runLengthImage.text.length"
            [entropyScore]="runLengthImage.entropyScore"
            [entropyFraction]="runLengthImage.entropyFraction">
          </app-entropy-info>
        </mat-card-footer>

      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>

</div>

<div *ngIf="currentPage === 4" [@visibilityChanged] style="text-align: center;">

  <h1 class="text-tile-center">Huffman coding</h1>

  <mat-grid-list [cols]="4" rowHeight="800px">

    <mat-grid-tile>

      <!--Instead use fxFlex...or anything that doesn't hate nice layouts-->
      <table>
        <tr>
          <mat-card>
            <mat-card-title>Example Text</mat-card-title>
            <mat-card-content style="padding-left: 70px;"
                              class="card-medium-font">
              <div *ngFor="let line of huffmanCoding.lines" style="text-align: left">
                {{line}}
              </div>
            </mat-card-content>
          </mat-card>
        </tr>

        <tr></tr>

        <tr>
          <mat-card>
            <mat-card-title>Frequency Table</mat-card-title>
            <mat-card-content>
              <table style="margin: auto;
                            width: 50%;
                            font-size: larger;
                            font-family: monospace;"
                     border=1
                     frame=void
                     rules=rows>
                <tr>
                  <th>Char</th>
                  <th>Usages</th>
                </tr>
                <tr *ngFor="let hc of huffmanCoding.table; let i = index;">
                  <td>{{hc.char}}</td>
                  <td>{{hc.usages}}</td>
                </tr>
              </table>
            </mat-card-content>
          </mat-card>
        </tr>
      </table>
      <!--Instead use fxFlex...or anything that doesn't hate nice layouts-->

    </mat-grid-tile>

    <mat-grid-tile [colspan]="3">
      <app-huffman-tree></app-huffman-tree>
    </mat-grid-tile>
  </mat-grid-list>
</div>

<div *ngIf="currentPage === 5" [@visibilityChanged]>

  <h1 class="text-tile-center">Huffman coding</h1>

  <mat-grid-list [cols]="3" gutterSize="10px">
    <mat-grid-tile>
      <mat-card>
        <mat-card-title>Not Encoded</mat-card-title>
        <mat-card-content class="card-medium-font">
          <div *ngFor="let line of huffmanCoding.lines">
            {{line}}
          </div>
        </mat-card-content>

        <mat-card-footer>
          <app-entropy-info
            [bytes]="huffmanCoding.text.length"
            [entropyScore]="huffmanCoding.entropyScore"
            [entropyFraction]="huffmanCoding.entropyFraction">
          </app-entropy-info>
        </mat-card-footer>
      </mat-card>
    </mat-grid-tile>

    <mat-grid-tile>
      <mat-card>
        <mat-card-title>Not Encoded - Binary</mat-card-title>
        <mat-card-content class="card-medium-font">
          <div class="font-monospace"
               *ngFor="let line of huffmanCoding.binary">
            {{line}}
          </div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <mat-grid-tile>
      <mat-card>
        <mat-card-title>Encoded</mat-card-title>
        <mat-card-content class="card-medium-font">
          <span class="font-monospace"
                *ngFor="let code of huffmanCoding.encodedArray;
                let i = index"
                [class.highlight-code-viewing]="code === selectedHuffmanCode">{{code}}<br *ngIf="(i+1)%10==0"></span>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

  </mat-grid-list>

  <mat-grid-list [cols]="18">
    <mat-grid-tile>
      <mat-card (mouseenter)="selectedHuffmanCode = null">
        <mat-card-content class="text-tile-center font-monospace">
          <div>Char</div>
          <div>----</div>
          <div>Code</div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>

    <mat-grid-tile *ngFor="let col of huffmanCoding.table">
      <mat-card class="hover-bright"
                (mouseenter)="selectedHuffmanCode = col.path">
        <mat-card-content class="text-tile-center font-monospace">
          <div>{{col.char}}</div>
          <div>----</div>
          <div>{{col.path}}</div>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>

</div>

<div *ngIf="currentPage === 6" [@visibilityChanged]>

  <h1 class="text-tile-center">LZW - Lempel–Ziv–Welch</h1>

  <mat-grid-list [cols]="2" rowHeight="800px">

    <mat-grid-tile>

      <!--Instead use fxFlex...or anything that doesn't hate nice layouts-->
      <table>
        <tr>
          <mat-card>
            <mat-card-title>Not Encoded</mat-card-title>
            <mat-card-content style="font-family: monospace;
                                    font-size: x-large;
                                    margin-top: 60px;"
                              class="card-medium-font">
              <div>{{lzwEncoding.text}}</div>
              <br>
              <div class="descriptive">Transmission Length</div>
              <span *ngFor="let number of lzwEncoding.textNumbers"> {{number}} </span>
            </mat-card-content>

            <mat-card-footer>
              <app-entropy-info
                [bytes]="lzwEncoding.text?.length"
                [entropyScore]="lzwEncoding.entropyScore"
                [entropyFraction]="lzwEncoding.entropyFraction">
              </app-entropy-info>
            </mat-card-footer>
          </mat-card>
        </tr>

        <tr></tr>

        <tr>
          <mat-card>
            <mat-card-title>Encoded Representation</mat-card-title>
            <mat-card-content style="font-family: monospace;
                                    font-size: x-large;">
              <div style="line-height: 3;">
                <ng-container *ngFor="let e of lzwEncoding.encodedTableFiltered; let i = index;">
                <span [class.highlight-code-viewing]="selectedLzwEntry.code == e.code
                                                        && selectedLzwEntry.next == e.next"
                      style="outline: none !important;">
                  {{e.output}}
                  <span style="position: relative;
                                left: -32px;
                                top: 22px;">{{e.code}}</span>
                  </span>
                  <br *ngIf="(i+1)%7==0">
                </ng-container>
              </div>

              <div style="font-family: monospace;
                          font-size: x-large;
                          margin-top: 60px;"
                   class="text-color-normal">
                <div class="descriptive">Transmission Length</div>
                <span *ngFor="let e of lzwEncoding.encodedTableFiltered; let i = index;"> {{e.code}} </span>
              </div>

            </mat-card-content>
          </mat-card>
        </tr>
      </table>
      <!--Instead use fxFlex...or anything that doesn't hate nice layouts-->

    </mat-grid-tile>

    <mat-grid-tile [colspan]="1">

      <mat-list style="height: 800px; overflow-y: scroll;"
                (mouseleave)="selectedLzwEntry = {}">
        <h3 matSubheader class="text-color-normal">
          <span class="align-padding">Current</span>
          <span class="align-padding">Next</span>
          <span class="align-padding">Output</span>
          <span class="align-padding">Add</span>
        </h3>
        <mat-divider class="divider-normal"></mat-divider>
        <ng-container *ngFor="let row of lzwEncoding.encodedTable">
          <mat-list-item class="background-light text-color-normal hover-bright"
                         style="height: 32px;"
                         (mouseenter)="selectedLzwEntry.code = row.code;
                                        selectedLzwEntry.next = row.next;">
            <span class="align-padding">{{row.current}}</span>
            <span class="align-padding">{{row.next}}</span>
            <span class="align-padding">{{row.output}}</span>
            <span class="align-padding">{{row.add}}</span>
          </mat-list-item>
          <mat-divider class="divider-normal"></mat-divider>
        </ng-container>
      </mat-list>
    </mat-grid-tile>
  </mat-grid-list>

</div>

<div *ngIf="currentPage === 7" [@visibilityChanged]>

  <h1 class="text-tile-center">Questions</h1>

  <mat-grid-list [cols]="2">
    <mat-grid-tile [colspan]="2">

      <mat-card>
        <mat-card-content>
          <h1 class="rotate-question">¿</h1>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>

</div>



